import{P as e,r as a,j as t,z as u,M as r,N as s,U as o,Q as l,cC as i,a1 as n,aR as v}from"./index.8c222edc.js";import{V as m}from"./VideoLists.0cb12bf1.js";import{P as d}from"./index.7a5ed3e2.js";import"./Grid.633dfea7.js";import"./get-slot.65c4337d.js";import"./Skeleton.2af31e85.js";import"./use-houdini.316adbdf.js";import"./Select.8d76d25a.js";const p={class:"videos"},c={__name:"videos",props:{mvSize:{type:Number,default:0}},setup(c){const g=c,b=e();let f=a(b.currentRoute.value.query.id),h=a([]),j=a(30),y=a(b.currentRoute.value.query.page?Number(b.currentRoute.value.query.page):1),C=a(0);const N=(e,a=30,t=0)=>{i(e,a,t).then((e=>{C.value=g.mvSize,h.value=[],e.mvs?e.mvs.forEach((e=>{h.value.push({id:e.id,cover:e.imgurl16v9,name:e.name,artist:[e.artist],playCount:n(e.playCount),duration:v(e.duration)})})):$message.error("搜索内容为空"),$mainContent&&$mainContent.scrollIntoView({behavior:"smooth"})}))},q=e=>{b.push({path:"/artist/videos",query:{id:f.value,page:e}})},R=e=>{j.value=e,N(f.value,e,(y.value-1)*j.value)};return t((()=>{N(f.value,j.value,(y.value-1)*j.value)})),u((()=>b.currentRoute.value),(e=>{f.value=e.query.id,y.value=Number(e.query.page),"ar-videos"==e.name&&N(f.value,j.value,(y.value-1)*j.value)})),(e,a)=>(r(),s("div",p,[o(m,{listData:l(h)},null,8,["listData"]),o(d,{totalCount:l(C),pageNumber:l(y),onPageSizeChange:R,onPageNumberChange:q},null,8,["totalCount","pageNumber"])]))}};export{c as default};
