import{d as a,M as s,N as e,O as t,_ as l,P as n,r as i,j as c,z as o,ag as u,aK as r,Q as m,U as d,aa as p,$ as v,aL as f,W as h,S as z,R as S,cy as w,as as b,bB as g,cz as _,T as y,aN as k,aO as x,cb as C}from"./index.8c222edc.js";import{V as j}from"./VideocamRound.869967cd.js";import{a as R,_ as M}from"./Tabs.3737cafc.js";import"./Add.055214c0.js";const V={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},q=[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5s-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1s1-.45 1-1s-.45-1-1-1z",fill:"currentColor"},null,-1)],D=a({name:"AlbumFilled",render:function(a,t){return s(),e("svg",V,q)}}),U={class:"artist"},$={key:0,class:"artistData"},A={class:"cover"},B={class:"data"},I={class:"name"},N={class:"occupation"},O={class:"num"},T={key:2,class:"content"},F=l({__name:"index",setup(a){const l=n();let V=i(l.currentRoute.value.query.id),q=i(null),F=i(!1),K=i(l.currentRoute.value.path.split("/")[2]);const L=a=>{a?w(a).then((a=>{q.value={name:a.data.artist.name,occupation:a.data.identify?a.data.identify.imageDesc:null,cover:a.data.artist.cover,desc:a.data.artist.briefDesc,albumSize:a.data.artist.albumSize,musicSize:a.data.artist.musicSize,mvSize:a.data.artist.mvSize}})):$message.error("请提供歌手id")},P=a=>{l.push({path:`/artist/${a}`,query:{id:V.value}})};return c((()=>{L(V.value)})),o((()=>l.currentRoute.value),(a=>{V.value=a.query.id,K.value=a.path.split("/")[2],"artist"==a.path.split("/")[1]&&L(V.value)})),(a,l)=>{const n=b,i=u,c=C,o=g,w=M,L=R,Q=r("router-view");return s(),e("div",U,[m(q)?(s(),e("div",$,[t("div",A,[d(n,{round:"",class:"coverImg",src:m(q).cover.replace(/^http:/,"https:")+"?param=300y300","fallback-src":"/images/pic/default.png"},null,8,["src"])]),t("div",B,[t("span",I,p(m(q).name),1),t("span",N,p(m(q).occupation),1),t("div",O,[t("span",{class:"musicSize",onClick:l[0]||(l[0]=a=>P("songs"))},[d(i,{component:m(_)},null,8,["component"]),v(" "+p(m(q).musicSize)+" 首歌 ",1)]),t("span",{class:"albumSize",onClick:l[1]||(l[1]=a=>P("albums"))},[d(i,{component:m(D)},null,8,["component"]),v(" "+p(m(q).albumSize)+" 张专辑 ",1)]),t("span",{class:"mvSize",onClick:l[2]||(l[2]=a=>P("videos"))},[d(i,{component:m(j)},null,8,["component"]),v(" "+p(m(q).mvSize)+" 个 MV ",1)])]),t("span",{class:"desc text-hidden",onClick:l[3]||(l[3]=a=>f(F)?F.value=!0:F=!0)},p(m(q).desc),1),d(o,{show:m(F),"onUpdate:show":l[4]||(l[4]=a=>f(F)?F.value=a:F=a),preset:"card",style:{width:"60vw","min-width":"min(24rem, 100vw)"},title:"歌手介绍",bordered:!1},{default:h((()=>[d(c,{style:{"max-height":"60vh"}},{default:h((()=>[v(p(m(q).desc),1)])),_:1})])),_:1},8,["show"])])])):z("",!0),m(V)?(s(),S(L,{key:1,class:"main-tab",type:"segment","onUpdate:value":[P,l[5]||(l[5]=a=>f(K)?K.value=a:K=a)],value:m(K)},{default:h((()=>[d(w,{name:"songs"},{default:h((()=>[v(" 单曲 ")])),_:1}),d(w,{name:"albums"},{default:h((()=>[v(" 专辑 ")])),_:1}),d(w,{name:"videos"},{default:h((()=>[v(" MV ")])),_:1})])),_:1},8,["value"])):z("",!0),m(q)?(s(),e("main",T,[d(Q,{mvSize:m(q)?m(q).mvSize:null},{default:h((({Component:a})=>[(s(),S(x,null,[d(y,{name:"move",mode:"out-in"},{default:h((()=>[(s(),S(k(a)))])),_:2},1024)],1024))])),_:1},8,["mvSize"])])):z("",!0)])}}},[["__scopeId","data-v-e4625f23"]]);export{F as default};
