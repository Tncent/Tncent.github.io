import{_ as s,P as a,ch as l,j as t,M as e,N as i,U as o,W as c,T as d,Q as r,ci as n,a1 as p,$ as u,R as f,X as m,Y as g,O as L,aa as _,S as v,as as y,bx as h,bz as b}from"./index.8c222edc.js";import{C as j}from"./CoverLists.f02ddca3.js";import{_ as k}from"./Divider.0423ec28.js";import{a as T,_ as x}from"./Grid.633dfea7.js";import"./Skeleton.2af31e85.js";import"./use-houdini.316adbdf.js";import"./get-slot.65c4337d.js";const C={class:"toplists"},I={class:"cover"},M={class:"data"},H={class:"desc"},D=s({__name:"toplists",setup(s){const D=a();let U=l({officialList:[],globalList:[]});return t((()=>{n().then((s=>{U.officialList=[],U.globalList=[],s.list[0]?s.list.forEach((s=>{s.ToplistType?U.officialList.push(s):U.globalList.push({id:s.id,cover:s.coverImgUrl,name:s.name,update:s.updateFrequency,playCount:p(s.playCount)})})):$message.error("排行榜获取失败")}))})),(s,a)=>{const l=k,t=y,n=h,p=b,$=T,q=x;return e(),i("div",C,[o(l,null,{default:c((()=>[u("官方榜")])),_:1}),o(d,{mode:"out-in"},{default:c((()=>[r(U).officialList[0]?(e(),f(q,{key:0,class:"official","x-gap":"20","y-gap":"20",cols:2},{default:c((()=>[(e(!0),i(m,null,g(r(U).officialList,(s=>(e(),f($,{key:s},{default:c((()=>[o(p,{class:"item",bordered:!1,"content-style":{padding:"0",display:"flex",alignItems:"center"},hoverable:"",onClick:a=>r(D).push(`/playlist?id=${s.id}`)},{default:c((()=>[L("div",I,[o(t,{class:"coverImg",src:s.coverImgUrl.replace(/^http:/,"https:")+"?param=300y300","fallback-src":"/images/pic/default.png"},null,8,["src"]),o(n,{class:"update",innerHTML:s.updateFrequency},null,8,["innerHTML"])]),L("div",M,[o(n,{class:"title",innerHTML:s.name},null,8,["innerHTML"]),L("div",H,[(e(!0),i(m,null,g(s.tracks,((s,a)=>(e(),i("div",{class:"song text-hidden",key:s},[o(n,null,{default:c((()=>[u(_(a+1)+". "+_(s.first)+" - ",1)])),_:2},1024),o(n,{depth:"3"},{default:c((()=>[u(_(s.second),1)])),_:2},1024)])))),128))])])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})):v("",!0)])),_:1}),o(l,null,{default:c((()=>[u("全球榜")])),_:1}),o(j,{listData:r(U).globalList,listType:"topList"},null,8,["listData"])])}}},[["__scopeId","data-v-96ce492d"]]);export{D as default};
