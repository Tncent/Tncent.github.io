import{_ as a,P as s,r as t,z as e,j as n,M as l,N as o,U as r,Q as i,O as c,br as p,R as d,ab as u,S as g,I as m,aQ as D,as as y,bx as b}from"./index.8c222edc.js";const f={class:"smallSongData"},h=a({__name:"SmallSongData",props:{songData:{type:Object,default:null},notJump:{type:Boolean,default:!1},getDataByID:{type:String,default:null}},setup(a,{expose:h}){const S=a,v=s();let x=t(S.songData);const I=a=>{D(a).then((a=>{a.songs[0]?x.value={album:a.songs[0].al,artist:a.songs[0].ar,name:a.songs[0].name,id:a.songs[0].id}:$message.error("歌曲信息获取失败")}))};return h({checkSongData:()=>!!x.value}),e((()=>S.getDataByID),(a=>{I(a)})),n((()=>{S.getDataByID&&I(S.getDataByID)})),(s,t)=>{const e=y,n=b;return l(),o("div",f,[r(e,{class:"pic",size:48,src:i(x)&&i(x).album?i(x).album.picUrl.replace(/^http:/,"https:")+"?param=60y60":"/images/pic/default.png","fallback-src":"/images/pic/default.png"},null,8,["src"]),c("div",{class:"name",style:m(a.notJump?"pointer-events: none":null)},[r(n,{class:"text-hidden",depth:"2",innerHTML:i(x)?i(x).name:"获取失败",onClick:t[0]||(t[0]=p((a=>i(v).push(`/song?id=${i(x).id}`)),["stop"]))},null,8,["innerHTML"]),i(x)&&i(x).artist?(l(),d(u,{key:0,class:"text-hidden",artistsData:i(x).artist},null,8,["artistsData"])):g("",!0)],4)])}}},[["__scopeId","data-v-8d6cddf1"]]);export{h as S};
