import{_ as a}from"./album.5b177070.js";import{_ as s,P as e,r as l,j as t,z as i,Q as c,M as r,N as n,O as d,U as o,aa as u,R as m,W as p,aL as v,S as h,X as g,Y as b,$ as f,cx as y,aR as k,as as _,aM as w,bB as j,a4 as x,a5 as D,a6 as S,cb as R,by as U}from"./index.8c222edc.js";import{D as A}from"./DataLists.a1af9741.js";import{_ as q}from"./Skeleton.2af31e85.js";import"./SmallSongData.246ff741.js";import"./Add.055214c0.js";import"./Space.03a5017b.js";import"./get-slot.65c4337d.js";import"./use-houdini.316adbdf.js";const C=a=>(D("data-v-20ebd38c"),a=a(),S(),a),I={key:0,class:"playlist"},L={class:"left"},M={class:"cover"},T=C((()=>d("img",{src:a,class:"album",alt:"album"},null,-1))),$={class:"intr"},z=C((()=>d("span",{class:"name"},"歌单简介",-1))),B={class:"desc text-hidden"},E={key:0,class:"tag"},N={class:"right"},O={class:"meta"},P={class:"name"},Q={class:"creator"},V={class:"time"},W={class:"createTime"},X=C((()=>d("span",{class:"num"},"发行时间：",-1))),Y={key:0,class:"company"},F=C((()=>d("span",{class:"num"},"发行公司：",-1))),G={key:1,class:"title"},H=C((()=>d("span",{class:"key"},"未提供所需数据",-1))),J=C((()=>d("br",null,null,-1))),K={key:2,class:"loading"},Z={class:"left"},aa={class:"right"},sa=s({__name:"AlbumView",setup(a){const s=e();let D=l(s.currentRoute.value.query.id),S=l(null),C=l([]),sa=l(!1);const ea=a=>{y(a).then((a=>{S.value=a.album,a.songs?(C.value=[],a.songs.forEach(((a,s)=>{C.value.push({id:a.id,num:s+1,name:a.name,artist:a.ar,album:a.al,alia:a.alia,time:k(a.dt),fee:a.fee,pc:a.pc?a.pc:null})}))):$message.error("获取专辑歌曲失败")}))};return t((()=>{D.value&&ea(D.value)})),i((()=>s.currentRoute.value),(a=>{D.value=a.query.id,"album"==a.name&&ea(D.value)})),(a,e)=>{const l=_,t=w,i=R,y=j,k=U,ea=q;return c(S)?(r(),n("div",I,[d("div",L,[d("div",M,[o(l,{class:"coverImg",src:c(S).picUrl?c(S).picUrl.replace(/^http:/,"https:")+"?param=500y500":null,"fallback-src":"/images/pic/default.png"},null,8,["src"]),T]),d("div",$,[z,d("span",B,u(c(S).description),1),c(S).description&&c(S).description.length>70?(r(),m(t,{key:0,block:"",strong:"",secondary:"",onClick:e[0]||(e[0]=a=>v(sa)?sa.value=!0:sa=!0)},{default:p((()=>[f(" 全部简介 ")])),_:1})):h("",!0),o(y,{show:c(sa),"onUpdate:show":e[1]||(e[1]=a=>v(sa)?sa.value=a:sa=a),preset:"card",style:{width:"60vw","min-width":"min(24rem, 100vw)"},title:"歌单简介",bordered:!1},{default:p((()=>[o(i,{style:{"max-height":"60vh"}},{default:p((()=>[f(u(c(S).description),1)])),_:1})])),_:1},8,["show"])]),c(S).tags?(r(),n("div",E,[(r(!0),n(g,null,b(c(S).tags,(a=>(r(),m(k,{class:"tags",round:"",bordered:!1,key:a},{default:p((()=>[f(u(a),1)])),_:2},1024)))),128))])):h("",!0)]),d("div",N,[d("div",O,[d("span",P,u(c(S).name),1),d("span",Q,u(c(S).artist.name),1),d("div",V,[d("div",W,[X,f(" "+u(c(x)(c(S).publishTime)),1)]),c(S).company?(r(),n("div",Y,[F,f(" "+u(c(S).company),1)])):h("",!0)])]),o(A,{listData:c(C),hideAlbum:""},null,8,["listData"])])])):c(D)?(r(),n("div",K,[d("div",Z,[o(ea,{class:"pic"}),o(ea,{text:"",repeat:5}),o(ea,{text:"",style:{width:"60%"}})]),d("div",aa,[o(ea,{sharp:!1,height:"80px",width:"60%"}),o(ea,{height:"100%",width:"100%"})])])):(r(),n("div",G,[H,J,o(t,{strong:"",secondary:"",onClick:e[2]||(e[2]=a=>c(s).go(-1)),style:{"margin-top":"20px"}},{default:p((()=>[f(" 返回上一级 ")])),_:1})]))}}},[["__scopeId","data-v-20ebd38c"]]);export{sa as default};
